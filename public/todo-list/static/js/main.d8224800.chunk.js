(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{40:function(t,e,n){t.exports=n(50)},50:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),i=n(71),u=n(72),s=n(35),l=n(34),p=n(18),d=n(29),f="app-data/".concat(config.app),h=localStorage.getItem(f),m=h&&JSON.parse(h);function b(t){localStorage.setItem(f,JSON.stringify(t)),m=t}m||b({});var w=new Proxy(m,{get:function(t,e,n){return m[e]},set:function(t,e,n,r){return b(Object(d.a)({},m,Object(p.a)({},e,n))),!0},deleteProperty:function(t,e){var n=m;n[e];return b(Object(s.a)(n,[e].map(l.a))),!0}});var v=n(33),y=Object(v.a)({palette:{primary:{main:"#A049E7"},secondary:{main:"#E96BED"}}}),E=n(23),k=n(74),g=n(73),x=n(7),O=n.n(x),j=n(11);function T(t,e,n){return fetch("/api/".concat(e),{method:t,headers:{"auth-code":w["auth-code"],"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0})}var S=n(75),P=n(65),J=n(66),N=n(68),C=n(69),B=n(51),I=n(67),L=n(70);function R(t){var e=t.book,n=t.refreshable,r=t.onRefresh;Object(B.a)();return a.a.createElement(S.a,{position:"absolute"},a.a.createElement(P.a,null,a.a.createElement(J.a,{color:"inherit",onClick:function(){return delete w["auth-code"],void window.location.reload()}},a.a.createElement(I.a,null)),a.a.createElement(k.a,{marginX:2},a.a.createElement(N.a,{variant:"h6",noWrap:!0},"Todo List")),e&&a.a.createElement(N.a,{variant:"subtitle2",noWrap:!0},e.name),a.a.createElement(k.a,{flexGrow:1}),a.a.createElement(k.a,{flexGrow:0,flexShrink:0,marginLeft:2},a.a.createElement(C.a,{variant:"outlined",color:"inherit",endIcon:a.a.createElement(L.a,null),disabled:!n,onClick:r},"Refresh\xa0\xa0"))))}var G=Object(g.a)((function(t){return{}}));var U=function(){var t=Object(r.useState)(null),e=Object(E.a)(t,2),n=e[0],o=e[1],c=function(){var t=Object(r.useState)(null),e=Object(E.a)(t,2),n=e[0],a=e[1];return{status:n,readBook:function(){return o.apply(this,arguments)},addTodo:function(t,e){return c.apply(this,arguments)},removeTodo:function(t){return i.apply(this,arguments)},editTodoTitle:function(t,e){return l.apply(this,arguments)},editTodoChecked:function(t,e){return p.apply(this,arguments)},editTodoPosition:function(t,e){return d.apply(this,arguments)}};function o(){return(o=Object(j.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f("reading book",T("GET","todo-list/book"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){return(c=Object(j.a)(O.a.mark((function t(e,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f("adding todo",T("POST","todo-list/book/todo",{title:e,position:n}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(j.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f("removing todo",T("DELETE","todo-list/book/todo",{id:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t,e,n,r){return s.apply(this,arguments)}function s(){return(s=Object(j.a)(O.a.mark((function t(e,n,r,a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f("editing todo",T("PUT","todo-list/book/todo",{id:e,title:n,checked:r,position:a}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return(l=Object(j.a)(O.a.mark((function t(e,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e,n,void 0,void 0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(j.a)(O.a.mark((function t(e,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e,void 0,n,void 0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=Object(j.a)(O.a.mark((function t(e,n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e,void 0,void 0,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(O.a.mark((function t(e,n){var r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("Not possible while ".concat(e,"."));case 2:return a(e),t.prev=3,t.next=6,n;case 6:return r=t.sent,t.next=9,r.json();case 9:return o=t.sent,a(null),t.abrupt("return",o);case 14:throw t.prev=14,t.t0=t.catch(3),a(null),t.t0;case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}}(),i=c.status,u=c.readBook;return c.addTodo,c.removeTodo,c.editTodoTitle,c.editTodoChecked,c.editTodoPosition,G(),a.a.createElement(a.a.Fragment,null,a.a.createElement(R,{book:n,refreshable:!i,onRefresh:function(){return u().then(o)}}),a.a.createElement(k.a,{marginTop:10},a.a.createElement("pre",null,i||(n?JSON.stringify(n,null,4):"Nothing!"))))};!function(){var t=new URLSearchParams(window.location.search).get("auth-code"),e=w["auth-code"];t?(w["auth-code"]=t,window.history.replaceState(null,"",window.location.pathname)):e||(window.location.href="".concat(config.loginUrl,"?app=").concat(config.app,"&url=").concat(window.location.origin).concat(window.location.pathname))}(),c.a.render(a.a.createElement(i.a,{theme:y},a.a.createElement(u.a,null),a.a.createElement(U,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d8224800.chunk.js.map